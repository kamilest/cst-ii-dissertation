% Template for a Computer Science Tripos Part II project dissertation
\documentclass[12pt,a4paper,twoside, openright, hidelinks]{report}
\usepackage[pdfborder={0 0 0}]{hyperref}
\urlstyle{same}
\usepackage[margin=25mm]{geometry} 
\usepackage{graphicx} % allows inclusion of PDF, PNG and JPG images
\usepackage{verbatim}
\usepackage{docmute} % only needed to allow inclusion of proposal.tex

\usepackage{bookmark}
\usepackage{amsmath}
\usepackage{parskip}
\usepackage{enumitem}

\usepackage{pdfsync}

\usepackage{xcolor}
\usepackage[multiple]{footmisc}

\raggedbottom                           % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

\renewcommand{\baselinestretch}{1.1}    % adjust line spacing to make
                                        % more readable

\begin{document}
\bibliographystyle{plain}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{empty}

\rightline{\large{Kamilė Stankevičiūtė}}

\vspace*{60mm}
\begin{center}
\LARGE
\textbf{Graph neural networks for age prediction from neuroimaging data} \\[5mm]
\large
Computer Science Tripos -- Part II \\[5mm]
Gonville \& Caius College \\[5mm]
2020
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Proforma, table of contents and list of figures

\pagestyle{plain}
\newpage
\chapter*{Declaration of Originality}

I, Kamilė Stankevičiūtė of Gonville \& Caius College, being a candidate for Part II of the Computer Science Tripos, hereby declare that this dissertation and the work described in it are my own work, unaided except as may be specified below, and that the dissertation does not contain material that has already been used to any substantial extent for a comparable purpose.

\bigskip
\leftline{Signed \textit{Kamilė Stankevičiūtė}}

\medskip
\leftline{Date \today}

\chapter*{Proforma}

\begin{tabular}{ll}
Candidate number:   & ?                  \\
Project title:      & Graph neural networks for age prediction from neuroimaging data \\
Examination:        & Computer Science Tripos -- Part II 2020 \\
Word count:         & ? \footnotemark[1] \\
Lines of code:      & ?  \\
Project originator: & Mr Tiago Azevedo                        \\
Supervisors:        & Mr Tiago Azevedo, Mr Alexander Campbell \\ 
\end{tabular}
\footnotetext[1]{Counted using the \LaTeX\ Utilities extension in Visual Studio Code.}
\stepcounter{footnote}

% It is quite in order for the Proforma to point out how ambitious the original aims were and how the work completed represents the triumphant consequence of considerable effort against a background of unpredictable disasters. The substantiation of these claims will follow in the rest of the dissertation.

\section*{Original Aims of the Project}
% At most 100 words describing the original aims of the project.

\section*{Work Completed}
% At most 100 words summarising the work completed.

\section*{Special Difficulties}

None.

\tableofcontents

\newpage
\section*{Acknowledgements}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{headings}

\chapter{Introduction}
% The Introduction should explain the principal motivation for the project. Show how the work fits into the broad area of surrounding Computer Science and give a brief survey of previous related work. It should generally be unnecessary to quote at length from technical papers or textbooks. If a simple bibliographic reference is insufficient, consign any lengthy quotation to an appendix.

% Motivation
Why measuring brain age gaps is interesting and important.

% Related work
Why population graphs are a nice approach (use of multimodal data; individual patient data \textit{and} diagnoses of other patients; potential robustness to missing or noisy data of a patient as other patient can "make up" for it).

% Novelty and challenges
Why my work is novel (applying a new population graph framework to a different – and more challenging – problem).

\chapter{Preparation}
% Principally, this chapter should describe the work which was undertaken before code was written, hardware built or theories worked on. It should show how the project proposal was further refined and clarified, so that the Implementation stage could go smoothly rather than by trial and error.
% Throughout this chapter and indeed the whole dissertation, it is essential to demonstrate that a proper professional approach was employed.
% The nature of this chapter will vary greatly from one dissertation to another but, underlining the professional approach, this chapter will very likely include a section headed “Requirements Analysis” and incorporate other references to software engineering techniques.
% The chapter will cite any new programming languages and systems which had to be learnt and will mention complicated theories or algorithms which required understanding.
% It is essential to declare the Starting Point (see Section 7). This states any existing codebase or materials that your project builds on. The text here can commonly be identical to the text in your proposal, but it may enlarge on it or report variations. For instance, the true starting point may have turned out to be different from that declared in the proposal and such discrepancies must be explained.

\section{Neural networks}
Overfitting. Regularisation.

\section{Graph spectral filters/graph convolution theory}

\section{Graph attention and graph convolution}

\section{Data preprocessing}

\subsection{Structural data}

\subsection{Functional data}
\textit{Turns out functional data is not as effective as structural brain imaging data.}

\subsection{Phenotype data}

\section{Population graphs}

\section{Requirements analysis and professional practice}

Implementing a flexible preprocessing pipeline which could be customised in the future for a variety of machine learning tasks evne outside graph neural networks (a package).

Description of software engineering techniques: planning out and executing the project based on requirements analysis, planning things on time and smoothly meeting the success criteria.

\section{Programming languages and systems learnt}
PyTorch, PyTorch geometric extension, graph spectral filters/convolutions, message passing, timeseries preprocessing into correlation matrices, IDEs, backup strategies

\section{Starting point}


\chapter{Implementation}
% This chapter should describe what was actually produced: the programs which were written, the hardware which was built or the theory which was developed. Any design strategies that looked ahead to the testing stage might profitably be referred to (the professional approach again).
% Descriptions of programs may include fragments of high-level code but large chunks of code are usually best left to appendices or omitted altogether. Analogous advice applies to circuit diagrams.
% Draw attention to the parts of the work which are not your own. The Implementation Chapter should include a section labelled ”Repository Overview”. The repository overview should be around one page in length and should describe the high-level structure of the source code found in your source code Repository. It should describe whether the code was written from scratch or if it built on an existing project or tutorial. Making effective use of powerful tools and pre-existing code is often laudable, and will count to your credit if properly reported.
% It should not be necessary to give a day-by-day account of the progress of the work but major milestones may sometimes be highlighted with advantage.

Could be split into \textit{preprocessing, parameter tuning, evaluation framework, software engineering techniques, repository overview}

\subsection{Precomputation and preprocessing of connectivity matrices}

\subsection{Structural and functional data extraction}

\subsection{Graph construction pipeline}

\subsection{Train, test, validation split}

\section{Non-graph baselines}
I have played around with \textit{xgboost}, ElasticNet and simple multilayer perceptrons to get a good idea of the minimum baselines my new architectures need to reach to be considered more effective.

\section{Graph convolutional network}
Describe the architecture in \texttt{BrainGCN}

\section{Graph attention network}

\section{Robustness evaluation framework}

\section{Repository overview}

\chapter{Evaluation}
% This is where Assessors will be looking for signs of success and for evidence of thorough and systematic evaluation as discussed in Section 8.3. Sample output, tables of timings and photographs of workstation screens, oscilloscope traces or circuit boards may be included. A graph that does not indicate confidence intervals will generally leave a professional scientist with a negative impression.
% As with code, voluminous examples of sample output are usually best left to appendices or omitted altogether.
% There are some obvious questions which this chapter will address. How many of the original goals were achieved? Were they proved to have been achieved? Did the program, hardware, or theory really work?
% Assessors are well aware that large programs will very likely include some residual bugs. It should always be possible to demonstrate that a program works in simple cases and it is instructive to demonstrate how close it is to working in a really ambitious case.

\section{Overview of the predictive power for the two graph neural network approaches}
% Or comparative predictive power

Discuss Pearson's $r$, coefficient of determination $r^2$ and other common performance metrics.

\section{Hyperparameters}
Effects of hyperparameter tuning

\section{Unit testing}

\section{Other quantitative and qualitative results}
Statistical significance of the results compared to the baseline (e.g. Pearson's $r$ method in Python seems to return some $p$-value of it..?)

\section{Robustness of the graph neural networks to noisy and missing data}

Add noise to the graphs and measure the rate of drop in predictive power.

\section{Comparison against existing benchmarks}

Compare to the Kaufmann et al.'s \textit{xgboost} approach \ref{kaufmann2019} ($r \sim 0.93$); and the other package that was cited in the same paper.

Possibly compare to other non-graph (relatively baseline) (neural network) architectures, e.g. ElasticNet, MLP,...

\section{Interpretation of the model behaviour}
One of the advantages of the graphs that they \textit{should} be interpretable I guess.

\chapter{Conclusion}

% This chapter is likely to be very short and it may well refer back to the Introduction. It might properly explain how you would have planned the project if starting again with the benefit of hindsight.

\section{Successes and failures}

\section{The project in hindsight (lessons learnt)}

\section{Possible continuations of the project}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{references}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\appendix
% Assessors like to see some sample code or example circuit diagrams, and appendices are the sensible places to include such items. Accordingly, software and hardware projects should incorporate appropriate appendices. Note that the 12,000 word limit does not include material in the appendices, but only in extremely unusual circumstances may appendices exceed 10–15 pages – if you feel that such unusual circumstances might apply to you you should ask your Director of Studies and Supervisor to apply to the Chairman of Examiners. It is quite in order to have no appendices. Appendices should appear between the bibliography and the project proposal.
\chapter{Neural networks?}

\chapter{Neuroimaging data}

\chapter{Project Proposal}

\input{proposal}

\end{document}
