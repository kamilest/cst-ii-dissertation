\chapter{Conclusion}

% This chapter is likely to be very short and it may well refer back to the Introduction. It might properly explain how you would have planned the project if starting again with the benefit of hindsight.

%  ~500 words

\section{Successes and failures}

The project has achieved all of its success criteria and requirements (Section~\ref{section:requirements-analysis}, Appendix~\ref{chapter:project-proposal} Project Proposal), representing the UKB dataset as a population graph, implementing the two GNN frameworks, and evaluating the results. It has also made a lot of progress on its \textit{extensions}, measuring the robustness of the GNN models and increasing the flexibility of the preprocessing pipeline to more preprocessing options.

\section{The main lesson}
This project has been exploring two things – the brain age estimation problem, and graph neural networks as a way of solving it. Both of those fields are currently at the height of their ongoing research, with some of the main references that this project heavily relied on being only a few months old~\cite{kaufmann2019, niu2019improved, pervaiz2020optimising}.

While I am very happy for having used this opportunity to \textit{learn} about the cutting-edge approaches in machine learning research and \textit{get hands-on experience} with the tools for implementing them, this project has taught me first-hand an important lesson in approaching predictive analysis problems: \textit{when developing models in practice, always try the simplest approaches first, and only then, if the model does not perform well, build up to sophisticated (``deep'') frameworks}. Both sophisticated graph neural network architectures were not even close to much simpler frameworks presented in literature. For this reason I am particularly proud of coming up with what I called the robustness measurement framework – it insightfully showed that the graph representation was not only not very useful for this problem (as removing edge information had no effect on model performance), but could even have a negative effect when the data is noisy.

% Mention Niu et al. 2019 raising the issue that there is systematic bias in brain age gap prediction but not many studies use this knowledge to correct for it. 

\section{Towards a more powerful preprocessing pipeline}
The main success of this project was therefore its step towards a preprocessing pipeline, which could process several brain imaging and non-imaging modalities at once into a unified and consistent manner. This is important in neuroimaging research regardless of the downstream task or analysis method: even for the same dataset the preprocessing workflow alone could change the results~\cite{salehi2020there}, while at the same time the workflows vary significantly between different research teams. For example, in a study by Botvinik-Nezer et al.~\cite{botvinik2019variability} none of the 70 teams chose the same workflow for an identical problem. Perhaps a different preprocessing pipeline would improve the results even for the brain age estimation task in this project.

The preprocessing framework is also a project that could especially benefit from good software engineering and computer science skills in order to design a general that is efficient, flexible and simple to apply to different contexts.
\begin{itemize}
    \item While it was not practical to do this extension for the UKB dataset that uses its own organisation, the preprocessing pipeline could be adapted to work with raw neuroimaging files, such as the standard BIDS\footnote{\urlstyle{https://bids.neuroimaging.io}} format, extending the framework to work with a many more neuroimaging datasets and parcellations (that would now be a part of the preprocessing framework).
    \item Including more powerful functional imaging preprocessing and dimensionality reduction steps.
    \item Including the option to use genetic data. DNA methylation and other genetic data is widely used in other neuroimaging studies, improving predictive power of the models \cite{cole2018brain,parisot2018disease}.
\end{itemize}

